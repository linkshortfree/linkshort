<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Google UTM Link Builder | LinkShort</title>
    <meta name="description"
        content="Create trackable marketing URLs with our free UTM builder tool. Add campaign source, medium, and name parameters to your links instantly.">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon.png') }}">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700;800&display=swap" rel="stylesheet">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5774199741984914"
        crossorigin="anonymous"></script>
</head>

<body>
    <div class="background-glow"></div>

    <div class="main-grid">
        <div class="container">
            <header>
                <div class="logo"><a href="/" style="text-decoration: none; color: inherit;">Link<span>Short</span></a>
                </div>
            </header>

            <main>
                <div class="dashboard-layout">
                    <!-- Left: Form Area -->
                    <div class="glass-card">
                        <h1 style="text-align: left;">Campaign UTM Builder</h1>
                        <p class="subtitle" style="margin-left: 0; text-align: left;">Generate trackable URLs for your
                            marketing campaigns in seconds.</p>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; text-align: left;">
                            <div style="grid-column: span 2;">
                                <label
                                    style="display: block; color: var(--text-secondary); margin-bottom: 0.5rem; font-size: 0.85rem;">Website
                                    URL *</label>
                                <input type="text" id="targetUrl" placeholder="https://example.com"
                                    oninput="generateUtm()">
                            </div>
                            <div>
                                <label
                                    style="display: block; color: var(--text-secondary); margin-bottom: 0.5rem; font-size: 0.85rem;">Campaign
                                    Source *</label>
                                <input type="text" id="utmSource" placeholder="google, facebook, newsletter"
                                    oninput="generateUtm()">
                            </div>
                            <div>
                                <label
                                    style="display: block; color: var(--text-secondary); margin-bottom: 0.5rem; font-size: 0.85rem;">Campaign
                                    Medium *</label>
                                <input type="text" id="utmMedium" placeholder="cpc, social, email"
                                    oninput="generateUtm()">
                            </div>
                            <div>
                                <label
                                    style="display: block; color: var(--text-secondary); margin-bottom: 0.5rem; font-size: 0.85rem;">Campaign
                                    Name *</label>
                                <input type="text" id="utmName" placeholder="summer_sale, launch_2026"
                                    oninput="generateUtm()">
                            </div>
                            <div>
                                <label
                                    style="display: block; color: var(--text-secondary); margin-bottom: 0.5rem; font-size: 0.85rem;">Campaign
                                    Term</label>
                                <input type="text" id="utmTerm" placeholder="running+shoes" oninput="generateUtm()">
                            </div>
                            <div style="grid-column: span 2;">
                                <label
                                    style="display: block; color: var(--text-secondary); margin-bottom: 0.5rem; font-size: 0.85rem;">Campaign
                                    Content</label>
                                <input type="text" id="utmContent" placeholder="logolink, textlink"
                                    oninput="generateUtm()">
                            </div>
                        </div>
                    </div>

                    <!-- Right: Sticky Preview Sidebar -->
                    <aside class="preview-sidebar">
                        <div class="preview-card glass-card" id="utmPreviewCard">
                            <div
                                style="margin-bottom: 1.5rem; display: flex; align-items: center; justify-content: center;">
                                <span class="pulse-indicator"></span>
                                <h3 style="font-size: 1.1rem; margin: 0;">Generated URL Preview</h3>
                            </div>

                            <div id="finalUtmUrl"
                                style="word-break: break-all; color: var(--text-primary); font-family: monospace; font-size: 0.95rem; min-height: 5rem; background: rgba(0,0,0,0.2); padding: 1.5rem; border-radius: 12px; border: 1px solid var(--glass-border); margin-bottom: 1.5rem; text-align: left;">
                                Fill in the fields on the left...
                            </div>

                            <div style="display: flex; flex-direction: column; gap: 10px;">
                                <button onclick="copyUtm()" class="copy-btn"
                                    style="width: 100%; margin: 0; padding: 1.25rem;">Copy Campaign URL</button>
                                <button onclick="shortenUtm()" class="copy-btn"
                                    style="width: 100%; margin: 0; padding: 1.25rem; background: rgba(16, 185, 129, 0.1); border-color: var(--accent-primary);">Shorten
                                    this URL</button>
                            </div>
                        </div>
                    </aside>
                </div>

                <div class="seo-content" style="margin-top: 5rem;">
                    <h2>What are UTM Parameters?</h2>
                    <p style="color: var(--text-secondary); line-height: 1.8; margin-bottom: 2rem;">
                        UTM (Urchin Tracking Module) parameters are five variants of URL parameters used by marketers to
                        track the effectiveness of online marketing campaigns across traffic sources and publishing
                        media. They were introduced by Google's Urchin software and are now supported by Google
                        Analytics and other tracking tools.
                    </p>

                    <div class="seo-grid">
                        <div class="seo-item">
                            <h3>Campaign Source</h3>
                            <p>Used to identify where the traffic is coming from. Examples: google, facebook, twitter,
                                or your specific newsletter name.</p>
                        </div>
                        <div class="seo-item">
                            <h3>Campaign Medium</h3>
                            <p>Identifies the marketing medium. Examples: cpc (cost per click), social, email, or
                                referral.</p>
                        </div>
                        <div class="seo-item">
                            <h3>Campaign Name</h3>
                            <p>Required for tracking a specific product promotion or strategic campaign launch.
                                Examples: spring_sale, brand_awareness.</p>
                        </div>
                    </div>

                    <h2 style="margin-top: 4rem;">Why use LinkShort's UTM Builder?</h2>
                    <p style="color: var(--text-secondary); line-height: 1.8;">
                        Our tool is designed for speed and transparency. Unlike other complex builders, we focus on a
                        clean interface that allows you to generate and shorten links in one single workflow. By using
                        UTMs, you can see exactly which marketing efforts are driving sales, allowing you to optimize
                        your budget and increase ROI.
                    </p>
                </div>
            </main>

            <footer>
                <div style="margin-bottom: 2rem;">
                    <a href="/">Home</a>
                    <a href="/blog">Blog</a>
                    <a href="/about">About Us</a>
                    <a href="/contact">Contact</a>
                    <a href="/privacy">Privacy</a>
                    <a href="/terms">Terms</a>
                </div>
                <p style="color: var(--text-sub); font-size: 0.85rem;">&copy; 2026 LinkShort. Built for transparency and
                    trust.</p>
            </footer>
        </div>
    </div>

    <script>
        function generateUtm() {
            const baseUrl = document.getElementById('targetUrl').value.trim();
            const source = document.getElementById('utmSource').value.trim();
            const medium = document.getElementById('utmMedium').value.trim();
            const name = document.getElementById('utmName').value.trim();
            const term = document.getElementById('utmTerm').value.trim();
            const content = document.getElementById('utmContent').value.trim();

            if (!baseUrl) {
                document.getElementById('finalUtmUrl').innerText = "Enter a Website URL to begin...";
                return;
            }

            try {
                let url = new URL(baseUrl);
                if (source) url.searchParams.set('utm_source', source);
                if (medium) url.searchParams.set('utm_medium', medium);
                if (name) url.searchParams.set('utm_campaign', name);
                if (term) url.searchParams.set('utm_term', term);
                if (content) url.searchParams.set('utm_content', content);

                document.getElementById('finalUtmUrl').innerText = url.toString();
            } catch (e) {
                document.getElementById('finalUtmUrl').innerText = "Invalid Website URL";
            }
        }

        async function copyUtm() {
            const url = document.getElementById('finalUtmUrl').innerText;
            if (url.startsWith('https://') || url.startsWith('http://')) {
                await navigator.clipboard.writeText(url);
                const btn = event.target;
                const originalText = btn.innerText;
                btn.innerText = "Copied!";
                setTimeout(() => btn.innerText = originalText, 2000);
            }
        }

        function shortenUtm() {
            const url = document.getElementById('finalUtmUrl').innerText;
            if (url.startsWith('https://') || url.startsWith('http://')) {
                // Pass the generated URL to the home page via query parameter or localStorage
                localStorage.setItem('pendingShorten', url);
                window.location.href = '/';
            }
        }
    </script>
</body>

</html>