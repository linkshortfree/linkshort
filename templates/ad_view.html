<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Please Wait... | LinkShort</title>
    <meta name="description"
        content="Your shortened link is loading. LinkShort provides fast and secure redirects for all your shortened URLs.">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        .ad-container {
            width: 100%;
            height: 250px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px dashed var(--border-color);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 2rem 0;
            color: var(--text-sub);
            font-size: 1.2rem;
            position: relative;
            overflow: hidden;
        }

        .ad-label {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 0.8rem;
            background: rgba(0, 0, 0, 0.5);
            padding: 2px 6px;
            border-radius: 4px;
        }

        .timer-box {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .timer-box span {
            color: var(--primary-color);
        }

        .skip-btn {
            display: none;
            width: auto;
            min-width: 200px;
            margin-top: 1rem;
            background: var(--primary-color);
        }

        .skip-btn.ready {
            display: inline-block;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(88, 166, 255, 0.7);
            }

            70% {
                transform: scale(1.05);
                box-shadow: 0 0 0 10px rgba(88, 166, 255, 0);
            }

            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(88, 166, 255, 0);
            }
        }
    </style>
</head>

<body>
    <div class="background-glow"></div>

    <div class="container">
        <header>
            <div class="logo">Link<span>Short</span></div>
        </header>

        <main>
            <div class="glass-card">
                <h1>Almost There!</h1>
                <p class="subtitle">Your destination link is loading...</p>

                <!-- Advertisement Area -->
                <div class="ad-container">
                    <span class="ad-label">Advertisement</span>
                    <p>Google/Hostinger Ad Banner Goes Here</p>
                    <!-- Paste your AdSense / Affiliate Code inside this div -->
                </div>

                <div class="timer-box" id="timerDisplay">
                    Please wait <span>5</span> seconds...
                </div>

                <button id="continueBtn" class="skip-btn" onclick="goToDestination()">
                    Continue to Link &rarr;
                </button>
            </div>
        </main>

        <footer>
            <p>&copy; 2026 LinkShort. Made with ❤️</p>
        </footer>
    </div>

    <script>
        const destination = "{{ destination_url }}";
        let timeLeft = 5;
        const timerDisplay = document.getElementById('timerDisplay');
        const continueBtn = document.getElementById('continueBtn');

        const countdown = setInterval(() => {
            timeLeft--;
            if (timeLeft > 0) {
                timerDisplay.innerHTML = `Please wait <span>${timeLeft}</span> seconds...`;
            } else {
                clearInterval(countdown);
                timerDisplay.style.display = 'none';
                continueBtn.classList.add('ready');

                // Optional: Auto-redirect after 1 second of button showing
                // setTimeout(goToDestination, 2000); 
            }
        }, 1000);

        function goToDestination() {
            window.location.href = destination;
        }
    </script>
</body>

</html>